(()=>{"use strict";var e={d:(t,n)=>{for(var o in n)e.o(n,o)&&!e.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:n[o]})}};function t(){let e=J**2;const t=new Array(e).fill(0).map(((e,t)=>t+1)),n=document.querySelector(".fifteen");let o=[];n.innerHTML="";for(let e=0;e<t.length;e++)o[e]=`\n    <button class="dice" data-matrix-id="${e+1}" draggable="true">\n      <span class="diceNumber">${e+1}</span>\n    </button>\n    `,n.innerHTML+=o[e];const c=document.querySelectorAll(".dice");for(let t=0;t<e;t++)c[t].style.width=100/J+"%",c[t].style.height=100/J+"%"}function n(){let e=J**2;document.querySelector(".wrapper");const t=document.querySelectorAll(".dice");if(document.querySelectorAll(".label"),innerWidth>=768&&e>36)for(let n=0;n<e;n++)t[n].style.fontSize="2rem";else if(innerWidth>=768&&e<25)for(let n=0;n<e;n++)t[n].style.fontSize="4rem";else if(innerWidth>=768&&e>=25&&e<=36)for(let n=0;n<e;n++)t[n].style.fontSize="3rem";else if(innerWidth>400&&innerWidth<768&&e>36)for(let n=0;n<e;n++)t[n].style.fontSize="1rem";else if(innerWidth>400&&innerWidth<768&&e<25)for(let n=0;n<e;n++)t[n].style.fontSize="3rem";else if(innerWidth>400&&innerWidth<768&&e>=25&&e<=36)for(let n=0;n<e;n++)t[n].style.fontSize="2rem";else if(innerWidth<=400&&e>36)for(let n=0;n<e;n++)t[n].style.fontSize="1rem";else if(innerWidth<=400&&e<25)for(let n=0;n<e;n++)t[n].style.fontSize="2rem";else if(innerWidth<=400&&e>=25&&e<=36)for(let n=0;n<e;n++)t[n].style.fontSize="1.5rem"}function o(){let e=J**2;const t=document.querySelectorAll(".dice"),n=Array.from(t);n[e-1].style.display="none";let o=n.map((e=>+e.dataset.matrixId)),c=[];for(let e=0;e<J;e++)c.push([]);let r=0,l=0;for(let e=0;e<o.length;e++)r>=J&&(l++,r=0),c[l][r]=o[e],r++;return c}function c(){let e=J**2;const t=document.querySelectorAll(".dice"),n=Array.from(t);n[e-1].style.display="none";for(let e=0;e<G.length;e++)for(let t=0;t<G[e].length;t++)r(n[G[e][t]-1],t,e)}function r(e,t,n){e.style.transform=`translate3D(${100*t}%, ${100*n}%, 0)`}e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),e.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var t;e.g.importScripts&&(t=e.g.location+"");var n=e.g.document;if(!t&&n&&(n.currentScript&&(t=n.currentScript.src),!t)){var o=n.getElementsByTagName("script");o.length&&(t=o[o.length-1].src)}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),e.p=t+"../"})(),e.d({},{uu:()=>K,rG:()=>J,hu:()=>Y,pI:()=>G,sU:()=>Q,M6:()=>F});let l,s="0.0",d=localStorage.getItem("duration")?(document.addEventListener("DOMContentLoaded",(()=>{document.querySelector(".seconds").textContent=`${localStorage.getItem("duration")}`})),localStorage.getItem("duration")):"0.0";function a(e){if(!e){e=!0;let t=(new Date).getTime(),n=document.querySelector(".seconds");l=setInterval((function(){let e=(new Date).getTime()-t+1e3*+d;s=Math.floor(e/100)/10,Math.round(s)==s&&(s+=".0"),n.innerText=s}),100)}}function i(){void 0!==l&&(clearInterval(l),document.querySelector(".seconds").textContent="0",document.querySelector(".moves").textContent="0"),document.querySelector(".timerMsg").classList.contains("hide")||document.querySelector(".timerMsg").classList.add("hide")}function u(){d="0.0",document.querySelector(".seconds").textContent="0"}const m=e.p+"assets/95752f71fab911bef191.mp3",f=e.p+"assets/a4da4f5a9bd9062d903e.mp3";let p=new Audio(m),y=new Audio(f),S=localStorage.getItem("score")?q():[];function g(){const e=document.querySelectorAll(".score-number"),t=document.querySelectorAll(".score-time"),n=document.querySelectorAll(".score-move");for(let o=0;o<10;o++)e[o].textContent=S[o].num,t[o].textContent=S[o].time,n[o].textContent=S[o].move}function h(){for(let e=0;e<10;e++)"---"==S[e].time&&(S[e].time=1e6,S[e].move=1e6);S.sort(((e,t)=>e.time>t.time?1:-1));for(let e=0;e<10;e++)S[e].num=e+1;for(let e=0;e<10;e++)1e6==S[e].time&&(S[e].time="---",S[e].move="---")}function b(e){const t=document.querySelector(".tab-score"),n=document.querySelector(".body__shadow"),o=document.querySelector(".score-button");p.play(),e.stopPropagation(),t.classList.remove("hidden-block"),n.classList.add("_active");const c=document.querySelector(".close");o.onclick=null,document.getElementById("shuffle").onclick=null,c.onclick=v}function v(){const e=document.querySelector(".tab-score"),t=document.querySelector(".body__shadow"),n=document.querySelector(".close"),o=document.querySelector(".score-button");e.classList.add("hidden-block"),t.classList.remove("_active"),o.onclick=b,document.getElementById("shuffle").onclick=O,n.onclick=null,y.play()}function q(){return JSON.parse(localStorage.getItem("score"))}const x=e.p+"assets/d03582661978831475ce.mp3",L=e.p+"assets/1287ccbf9eded7743cf4.mp3";let I=localStorage.getItem("counter")?(document.addEventListener("DOMContentLoaded",(()=>{document.querySelector(".moves").textContent=`${localStorage.getItem("counter")}`})),+localStorage.getItem("counter")):0,E=!!localStorage.getItem("game"),w=new Audio(x),C=new Audio(L);function A(e){let t=e.target.closest("button");if(!t)return;let n=J**2;const o=k(+t.dataset.matrixId,G),r=k(n,G);z(o,r)&&(M(o,r,G),c(),w.play())}function k(e,t){for(let n=0;n<t.length;n++)for(let o=0;o<t[n].length;o++)if(t[n][o]==e)return{x:o,y:n}}function z(e,t){const n=Math.abs(e.x-t.x),o=Math.abs(e.y-t.y);return 1==n&&e.y==t.y||1==o&&e.x==t.x}function M(e,t,n){[n[e.y][e.x],n[t.y][t.x]]=[n[t.y][t.x],n[e.y][e.x]],I==localStorage.getItem("counter")&&d==localStorage.getItem("duration")&&a(),l&&E&&(I++,document.querySelector(".moves").textContent=`${I}`),function(e){const t=new Array(J**2).fill(0).map(((e,t)=>t+1)),n=e.flat();for(let e=0;e<t.length;e++)if(t[e]!==n[e])return!1;return!0}(n)&&I&&E&&(setTimeout((()=>{document.querySelector(".timerMsg").classList.remove("hide"),clearInterval(l)}),200),E=!1,C.play(),function(){document.querySelectorAll(".score-number"),document.querySelectorAll(".score-time"),document.querySelectorAll(".score-move");let e,t=document.querySelector(".seconds").textContent,n=document.querySelector(".moves").textContent;for(let t=0;t<10;t++)if("---"==S[t].time){e=t;break}if(e||0===e)S[e].time=+t,S[e].move=+n,h(),g();else{if(S[9].time<=+t)return;e=function(){let e,t=document.querySelector(".seconds").textContent;document.querySelector(".moves").textContent;for(let n=9;n>0;n--)S[n].time>+t&&+t>=S[n-1].time&&(e=n);return e}(),function(e){let t=document.querySelector(".seconds").textContent,n=document.querySelector(".moves").textContent,o=S.slice(0,e);o.push({num:e+1,time:+t,move:+n});let c=S.slice(e,9),r=o.concat(c);S=r}(e),h(),g()}localStorage.setItem("score",JSON.stringify(S))}())}function $(){I=0,document.querySelector(".moves").textContent="0"}const W=e.p+"assets/051a647e91886cd3bab9.mp3";let T,_=new Audio(W);function O(){let e=0;for(;e<2e3;)D(G),c(),e++;i(),a(!1),$(),u(),E=!0,_.play()}function D(e){const t=k(J**2,e),n=function(e,t,n){const o=[];for(let c=0;c<t.length;c++)for(let r=0;r<t[c].length;r++)z({x:r,y:c},e)&&(n&&n.x==r&&n.y==c||o.push({x:r,y:c}));return o}(t,e,T);M(t,n[Math.floor(Math.random()*n.length)],e),T=t}const N=e.p+"assets/6e64da33b5190e19bf60.mp3";let j=new Audio(N);const P=e=>{for(let e=0;e<Y.length;e++){let o=J**2;Y[e].checked&&(Y[e].checked=!0,Q(e),K(e),o=J**2,t(),F(),c(),fifteen.onclick=A,n(),i(),$(),E=!1,u(),j.play())}},B=e.p+"assets/f97fdf684771fbeedcfe.mp3";let H=new Audio(B),J=localStorage.getItem("countSide")?localStorage.getItem("countSide"):4;!function(){const e=document.createElement("div");e.classList.add("wrapper"),document.querySelector("body").prepend(e);const t=document.createElement("h1");t.textContent="Mortal Puzzle",e.prepend(t);const n=document.createElement("h2");n.classList.add("timer"),e.append(n);const o=document.createElement("div");o.classList.add("dice-wrapper"),e.append(o);const c=document.createElement("div");c.classList.add("body__shadow"),c.id="shadow",o.prepend(c);const r=document.createElement("div");r.classList.add("tab-score"),r.classList.add("hidden-block"),o.append(r);const l=document.createElement("div");l.classList.add("fifteen"),l.id="fifteen",o.append(l);const s=document.createElement("div");s.classList.add("size-wrapper"),e.append(s);const d=document.createElement("div");d.classList.add("button-wrapper"),e.append(d);const a=document.createElement("button");a.classList.add("sound-button"),d.append(a);const i=document.createElement("button");i.classList.add("button"),i.id="shuffle",i.textContent="NEW GAME",d.append(i);const u=document.createElement("button");u.classList.add("save-button"),d.append(u);const m=document.createElement("button");m.classList.add("score-button"),d.append(m);for(let e=3;e<=8;e++){let t=document.createElement("div");s.append(t);let n=document.createElement("input");n.classList.add("size"),n.type="radio",n.id=`radio${e}`,n.name="sizes",n.value=`${e}`,t.append(n);let o=document.createElement("label");o.classList.add("label"),o.setAttribute("for",`radio${e}`),o.textContent=`${e}x${e}`,t.append(o)}const f=document.querySelector(".timer");f.textContent=" seconds, ";let p=document.createElement("span");p.classList.add("seconds"),p.textContent="0",f.prepend(p);let y=document.createElement("span");y.classList.add("moves"),y.textContent="0",f.append(y),f.insertAdjacentHTML("beforeend"," moves");const S=document.createElement("div");S.classList.add("timerMsg"),S.classList.add("hide"),S.textContent="Hooray! You solved the puzzle in",f.prepend(S);const g=document.createElement("h3");g.textContent="Score board",r.prepend(g);const h=document.createElement("div");h.classList.add("score-wrapper"),r.append(h);for(let e=0;e<10;e++){const e=document.createElement("div");e.classList.add("score-winner"),h.append(e);const t=document.createElement("div");t.classList.add("score-number"),e.append(t);const n=document.createElement("div");n.classList.add("score-time"),e.append(n);const o=document.createElement("div");o.classList.add("score-move"),e.append(o)}const b=document.createElement("button");b.classList.add("button"),b.classList.add("close"),b.textContent="CLOSE",h.append(b)}(),t(),n();let G=localStorage.getItem("matrix")?JSON.parse(localStorage.getItem("matrix")):o();function F(){G=o()}c(),document.getElementById("shuffle").onclick=O,fifteen.onclick=A,fifteen.ondragover=function(e){e.preventDefault()},fifteen.ondragstart=function(e){let t=e.target.closest("button");const n=+t.dataset.matrixId;t&&e.dataTransfer.setData("id",n)},fifteen.ondrop=function(e){let t=J**2;const n=k(+e.dataTransfer.getData("id"),G),o=k(t,G);z(n,o)&&(M(n,o,G),c(),w.play())};let U=localStorage.getItem("checkedInput")?+localStorage.getItem("checkedInput"):1;const Y=document.querySelectorAll(".size");function K(e){J=+Y[e].value}function Q(e){U=e}Y[U].checked=!0,Y.forEach((e=>e.oninput=P)),window.onresize=n,document.querySelector(".sound-button").onclick=function(){const e=document.querySelector(".sound-button");e.classList.contains("sound-button_mute")?(e.classList.remove("sound-button_mute"),j.muted=!1,_.muted=!1,w.muted=!1,C.muted=!1,p.muted=!1,H.muted=!1):(e.classList.add("sound-button_mute"),j.muted=!0,_.muted=!0,w.muted=!0,C.muted=!0,p.muted=!0,H.muted=!0)};const R=document.querySelector(".score-button");document.querySelector(".close"),R.onclick=b,localStorage.getItem("score")?q():function(){for(let e=0;e<10;e++)S.push({num:e+1,time:"---",move:"---"})}(),g(),document.querySelector(".save-button").onclick=()=>{H.play(),function(){localStorage.setItem("matrix",JSON.stringify(G)),localStorage.setItem("countSide",J),localStorage.setItem("counter",I),localStorage.setItem("game",E);let e=document.querySelector(".seconds").textContent;localStorage.setItem("duration",e),localStorage.setItem("checkedInput",U)}()}})();